{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\z0983\\\\0416\\u6B63\\u5728\\u9032\\u884C\\\\mernApp\\\\client\\\\src\\\\App.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      title: \"\",\n      body: \"\",\n      posts: []\n    };\n\n    this.componentDidMount = () => {\n      this.getBlogPost();\n    };\n\n    this.getBlogPost = () => {\n      axios.get(\"/api\").then(response => {\n        const data = response.data;\n        this.setState({\n          posts: data\n        });\n        console.log(\"data has been received\");\n      }).catch(() => {\n        alert(\"Error retrieving data!\");\n      });\n    };\n\n    this.handleChange = ({\n      target\n    }) => {\n      const {\n        name,\n        value\n      } = target; // const target = event.target;\n      // const name = target.name;\n      // const value = target.value;\n\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.submit = event => {\n      event.preventDefault();\n      const payload = {\n        title: this.state.title,\n        body: this.state.body\n      };\n      axios({\n        url: \"/api/save\",\n        method: \"POST\",\n        data: payload\n      }).then(() => {\n        console.log(\"data has been sent to the server\");\n        this.resetUserInputs();\n        this.getBlogPost();\n      }).catch(() => {\n        console.log(\"internal server error\");\n      });\n    };\n\n    this.resetUserInputs = () => {\n      this.setState({\n        title: \"\",\n        body: \"\"\n      });\n    };\n\n    this.displayBlogPost = posts => {\n      if (!posts.length) return null;\n      return posts.map((post, index) => /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        className: \"blog-post_display\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }\n      }, post.title), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }\n      }, post.body)));\n    };\n  }\n\n  render() {\n    console.log(\"state:\", this.state); // JSX\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }\n    }, \"welcome to my app\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.submit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"title\",\n      placeholder: \"title\",\n      value: this.state.title,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      placeholder: \"body\",\n      name: \"body\",\n      cols: \"30\",\n      rows: \"10\",\n      value: this.state.body,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"blog-\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }, this.displayBlogPost(this.state.posts)));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/z0983/0416正在進行/mernApp/client/src/App.js"],"names":["React","axios","App","Component","state","title","body","posts","componentDidMount","getBlogPost","get","then","response","data","setState","console","log","catch","alert","handleChange","target","name","value","submit","event","preventDefault","payload","url","method","resetUserInputs","displayBlogPost","length","map","post","index","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\n\nclass App extends React.Component {\n  state = {\n    title: \"\",\n    body: \"\",\n    posts: [],\n  };\n\n  componentDidMount = () => {\n    this.getBlogPost();\n  };\n\n  getBlogPost = () => {\n    axios\n      .get(\"/api\")\n      .then((response) => {\n        const data = response.data;\n        this.setState({ posts: data });\n        console.log(\"data has been received\");\n      })\n      .catch(() => {\n        alert(\"Error retrieving data!\");\n      });\n  };\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    // const target = event.target;\n    // const name = target.name;\n    // const value = target.value;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  submit = (event) => {\n    event.preventDefault();\n\n    const payload = {\n      title: this.state.title,\n      body: this.state.body,\n    };\n\n    axios({\n      url: \"/api/save\",\n      method: \"POST\",\n      data: payload,\n    })\n      .then(() => {\n        console.log(\"data has been sent to the server\");\n        this.resetUserInputs();\n        this.getBlogPost();\n      })\n      .catch(() => {\n        console.log(\"internal server error\");\n      });\n  };\n\n  resetUserInputs = () => {\n    this.setState({\n      title: \"\",\n      body: \"\",\n    });\n  };\n\n  displayBlogPost = (posts) => {\n    if (!posts.length) return null;\n\n    return posts.map((post, index) => (\n      <div key={index} className=\"blog-post_display\">\n        <h3>{post.title}</h3>\n        <p>{post.body}</p>\n      </div>\n    ));\n  };\n\n  render() {\n    console.log(\"state:\", this.state);\n    // JSX\n    return (\n      <div className=\"app\">\n        <h2>welcome to my app</h2>\n        <form onSubmit={this.submit}>\n          <div className=\"form-input\">\n            <input\n              type=\"text\"\n              name=\"title\"\n              placeholder=\"title\"\n              value={this.state.title}\n              onChange={this.handleChange}\n            />\n          </div>\n          <div className=\"form-input\">\n            <textarea\n              placeholder=\"body\"\n              name=\"body\"\n              cols=\"30\"\n              rows=\"10\"\n              value={this.state.body}\n              onChange={this.handleChange}\n            ></textarea>\n          </div>\n          <button>Submit</button>\n        </form>\n        <div className=\"blog-\">{this.displayBlogPost(this.state.posts)}</div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}